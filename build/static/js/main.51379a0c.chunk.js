(this["webpackJsonpacrolinx-app-custom-help-pages"]=this["webpackJsonpacrolinx-app-custom-help-pages"]||[]).push([[0],[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(3),a=n(4),c=n(5);t.DEVELOPMENT_APP_SIGNATURE="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiS2lsbGVyIEFwcCIsImlkIjoiNGVlZDM3NjctMGYzMS00ZDVmLWI2MjktYzg2MWFiM2VkODUyIiwidHlwZSI6IkFQUCIsImlhdCI6MTU2MTE4ODI5M30.zlVJuGITMjAJ2p4nl-qtpj4N0p_8e4tenr-4dkrGdXg",function(e){e.selectRanges="selectRanges",e.replaceRanges="replaceRanges",e.openWindow="openWindow",e.getAppAccessToken="getAppAccessToken"}(t.RequiredCommands||(t.RequiredCommands={})),function(e){e.textExtracted="textExtracted",e.textExtractedLink="textExtractedLink",e.invalidRanges="invalidRanges",e.visibility="visibility",e.capabilities="capabilities",e.documentChange="documentChange"}(r=t.RequiredEvents||(t.RequiredEvents={}));var o={appSignature:t.DEVELOPMENT_APP_SIGNATURE,title:"Acrolinx App",requiredReportContent:[],requiredReportLinks:[]},p=function(){function e(e){var t=this;this._events={textExtracted:new s.InternalEventEmitter,textExtractedLink:new s.InternalEventEmitter,invalidRanges:new s.InternalEventEmitter,visibility:new s.InternalEventEmitter,documentChange:new s.InternalEventEmitter,capabilities:new s.InternalEventEmitter},this.waitingAppAccessTokenResolvers=[],this._commands={selectRanges:a.selectRanges,replaceRanges:a.replaceRanges,openWindow:a.openWindow,getAppAccessToken:function(){return t.getAppAccessToken()}};var n=[];c.includes(e.requiredEvents,r.textExtractedLink)&&n.push(a.ReportType.extractedText);var p=[];c.includes(e.requiredEvents,r.textExtracted)&&p.push(a.ReportType.extractedText),a.configureAddon(i(i(i({},o),e),{requiredReportLinks:n,requiredReportContent:p,requires:e.requiredCommands,requiredEvents:{visibility:c.getEmptyObjectIfIncluded(e.requiredEvents,r.visibility),capabilities:c.getEmptyObjectIfIncluded(e.requiredEvents,r.capabilities),documentChange:c.getEmptyObjectIfIncluded(e.requiredEvents,r.documentChange)}})),window.addEventListener("message",(function(e){var n=e.data;if(e.source===window.parent&&(null===n||void 0===n?void 0:n.type))switch(console.log("Got message from sidebar",e.data.type,e),n.type){case"analysisResult":t.handleAnalysisResultEvent(n);break;case"invalidRanges":t._events.invalidRanges.dispatchEvent(n);break;case"appAccessToken":t.waitingAppAccessTokenResolvers.forEach((function(e){e(n)})),t.waitingAppAccessTokenResolvers=[];break;case"visibility":t._events.visibility.dispatchEvent(n);break;case"capabilities":t._events.capabilities.dispatchEvent(n);break;case"documentChange":t._events.documentChange.dispatchEvent(n);break;default:c.exhaustiveSwitchCheck(n,"AppApiEvent")}}),!1)}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commands",{get:function(){return this._commands},enumerable:!0,configurable:!0}),e.prototype.handleAnalysisResultEvent=function(e){var t=e.reports[a.ReportType.extractedText]||{};t.url&&this._events.textExtractedLink.dispatchEvent({url:t.url,languageId:e.languageId}),"string"===typeof t.content&&this._events.textExtracted.dispatchEvent({text:t.content,languageId:e.languageId,selection:e.selection,document:e.document})},e.prototype.getAppAccessToken=function(){var e=this,t=new Promise((function(t){e.waitingAppAccessTokenResolvers.push(t)}));return a.getAppAccessToken(),t},e}();t.initApi=function(e){return new p(e)},t.isInvalid=function(e,t){return e.ranges.some((function(e){return c.isOverlapping(e,t)}))}},function(e){e.exports=JSON.parse('{"name":"acrolinx-app-custom-help-pages","license":"Apache-2.0","author":"Acrolinx","url":"https://www.acrolinx.com","version":"0.1.0","private":true,"dependencies":{"@acrolinx/app-sdk":"^0.1.1","@types/react":"^16.9.17","@types/react-dom":"^16.9.4","react":"^16.12.0","react-dom":"^16.12.0"},"devDependencies":{"browser-sync":"^2.26.7","react-scripts":"^4.0.3","typescript":"3.7.4"},"scripts":{"start":"react-scripts start","startHttps":"HTTPS=true react-scripts start","build":"react-scripts build","eject":"react-scripts eject","tsc":"tsc"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"homepage":"./"}')},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),s=(n(6),Object(i.initApi)({title:"Select Ranges",version:r.version,button:{text:"Extract Text",tooltip:"Extract text and select words in the document"},requiredEvents:[],requiredCommands:[i.RequiredCommands.openWindow]}));document.querySelectorAll("a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=e.getAttribute("data-href");s.commands.openWindow(n)}))})),document.querySelectorAll(".href").forEach((function(e){e.addEventListener("click",(function(t){var n=e.getAttribute("data-href");s.commands.openWindow(n)}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.listener=[]}return e.prototype.addEventListener=function(e){this.listener.push(e)},e.prototype.removeEventListener=function(e){this.listener=this.listener.filter((function(t){return t!==e}))},e.prototype.dispatchEvent=function(e){this.listener.forEach((function(t){t(e)}))},e}();t.InternalEventEmitter=i},function(e,t,n){"use strict";function i(){return window.parent&&window.parent!==window}function r(e){i()?window.parent.postMessage(e,"*"):console.warn("Missing parent window with sidebar.",e)}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.extractedText="extractedText"}(t.ReportType||(t.ReportType={})),function(e){e.selectRanges="selectRanges",e.replaceRanges="replaceRanges"}(t.RequiredAppApiCommand||(t.RequiredAppApiCommand={})),t.hasParentWindow=i,t.openWindow=function(e){i()?r({command:"acrolinx.sidebar.openWindow",url:e}):window.open(e)},t.selectRanges=function(e){r({command:"acrolinx.sidebar.selectRanges",ranges:e})},t.replaceRanges=function(e){r({command:"acrolinx.sidebar.replaceRanges",ranges:e})},t.configureAddon=function(e){r({command:"acrolinx.sidebar.configureAddon",config:e})},t.getAppAccessToken=function(){r({command:"acrolinx.sidebar.requestAppAccessToken"})},t.requestCapabilities=function(){r({command:"acrolinx.sidebar.requestCapabilities"})}},function(e,t,n){"use strict";function i(e,t){return!!e&&e.indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0}),t.includes=i,t.getEmptyObjectIfIncluded=function(e,t){return i(e,t)?{}:void 0},t.isOverlapping=function(e,t){return!(t.begin>=e.end||t.end<=e.begin)},t.exhaustiveSwitchCheck=function(e,t){throw new Error("Can't handle "+t+" with value "+JSON.stringify(e))}},function(e,t,n){}],[[2,1]]]);
//# sourceMappingURL=main.51379a0c.chunk.js.map